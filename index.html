<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
  <title>SatÄ±nalma CoPilot - AI Destekli SatÄ±nalma AsistanÄ±</title>

  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='0.9em' font-size='90'%3EğŸ¤–%3C/text%3E%3C/svg%3E">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

  <style>
    *{margin:0;padding:0;box-sizing:border-box}
    body{font-family:'Inter',-apple-system,BlinkMacSystemFont,sans-serif;line-height:1.6;color:#0f172a;background:#fff}
    .container{max-width:1200px;margin:0 auto;padding:0 20px}

/* Navbar */
.navbar {
  background: white;
  box-shadow: 0 2px 10px rgba(0,0,0,0.08);
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 1000;
  padding: 16px 0;
}

.nav-content {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.brand {
  display: flex;
  align-items: center;
  gap: 12px;
  text-decoration: none;
  z-index: 1001;
}

.logo { 
  font-size: 2rem; 
}

.brand-text { 
  font-size: 1.5rem; 
  font-weight: 800; 
  color: #2563eb;
  transition: font-size 0.2s;
}

/* Desktop Navigation */
.nav-links {
  display: flex;
  gap: 16px;
  align-items: center;
}

.nav-btn {
  padding: 10px 24px;
  border-radius: 8px;
  text-decoration: none;
  font-weight: 600;
  transition: all 0.2s;
  font-size: 0.95rem;
  border: none;
  cursor: pointer;
  display: inline-block;
}

.btn-outline {
  background: white;
  color: #2563eb;
  border: 2px solid #2563eb;
}

.btn-outline:hover {
  background: #eff6ff;
}

.btn-primary {
  background: linear-gradient(135deg, #2563eb, #1d4ed8);
  color: white;
  box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3);
}

.btn-primary:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 16px rgba(37, 99, 235, 0.4);
}

/* Hamburger Menu */
.hamburger {
  display: none;
  flex-direction: column;
  gap: 5px;
  background: none;
  border: none;
  cursor: pointer;
  padding: 8px;
  z-index: 1001;
}

.hamburger span {
  width: 25px;
  height: 3px;
  background: #2563eb;
  border-radius: 3px;
  transition: all 0.3s ease;
}

.hamburger.active span:nth-child(1) {
  transform: rotate(45deg) translate(8px, 8px);
}

.hamburger.active span:nth-child(2) {
  opacity: 0;
}

.hamburger.active span:nth-child(3) {
  transform: rotate(-45deg) translate(7px, -7px);
}

/* Mobile Menu */
.mobile-menu {
  display: none;
  position: fixed;
  top: 70px;
  left: 0;
  right: 0;
  background: white;
  box-shadow: 0 10px 30px rgba(0,0,0,0.1);
  padding: 0; /* KapalÄ±yken padding yok */
  flex-direction: column;
  gap: 12px;
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.3s ease, padding 0.3s ease;
  z-index: 999;
}

.mobile-menu.active {
  max-height: 300px;
  padding: 20px; /* AÃ§Ä±kken padding */
}

.mobile-menu a {
  width: 100%;
  text-align: center;
  padding: 14px 24px; /* Yatayda biraz boÅŸluk */
  font-size: 1rem;
  display: block; /* Ã‡OK Ã–NEMLÄ° */
  box-sizing: border-box;
  max-width: 100%; /* TaÅŸmayÄ± Ã¶nle */
}

/* Responsive */
@media (max-width: 768px) {
  .brand-text {
    font-size: 1.2rem;
  }
  
  .nav-links {
    display: none;
  }
  
  .hamburger {
    display: flex;
  }
  
  .mobile-menu {
    display: flex;
  }
}

@media (max-width: 480px) {
  .brand-text {
    font-size: 1rem;
  }
  
  .logo {
    font-size: 1.5rem;
  }
}

    /* Sections */
    main{margin-top:80px}
    .hero{padding:80px 0;background:linear-gradient(135deg,#f8fafc 0%,#e2e8f0 100%)}
    .hero-content{display:grid;grid-template-columns:1fr 1fr;gap:60px;align-items:center}
    .hero-title{font-size:3rem;font-weight:800;color:#0f172a;line-height:1.1;margin-bottom:18px}
    .highlight{color:#2563eb;background:linear-gradient(120deg,#dbeafe,#bfdbfe);padding:0 8px;border-radius:6px}
    .hero-subtitle{font-size:1.15rem;color:#475569;margin-bottom:24px}
    .hero-features{display:flex;flex-wrap:wrap;gap:10px;margin-bottom:24px}
    .feature-pill{background:#dbeafe;color:#1e40af;padding:8px 14px;border-radius:999px;font-size:.9rem;font-weight:600}
    .cta-button{background:linear-gradient(135deg,#2563eb,#1d4ed8);color:#fff;border:none;padding:16px 28px;font-size:1rem;font-weight:700;border-radius:12px;cursor:pointer;transition:transform .2s ease,box-shadow .2s ease;box-shadow:0 6px 18px rgba(37,99,235,.25)}
    .cta-button:hover{transform:translateY(-2px);box-shadow:0 10px 28px rgba(37,99,235,.35)}
    .cta-note{color:#64748b;font-size:.9rem;margin-top:10px}

    .phone-mockup{justify-self:center;width:280px;height:560px;background:#111827;border-radius:30px;padding:18px 14px;box-shadow:0 20px 40px rgba(0,0,0,.2);position:relative}
    .phone-screen{background:#fff;height:100%;border-radius:20px;padding:18px 14px;overflow-y:auto;display:flex;flex-direction:column;gap:10px}
    .chat-message{padding:10px 14px;border-radius:18px;max-width:85%;font-size:.9rem;line-height:1.35}
    .chat-message.user{background:#2563eb;color:#fff;align-self:flex-end;margin-left:auto}
    .chat-message.bot{background:#f1f5f9;color:#334155;align-self:flex-start}

    /* Features */
    .features{padding:72px 0;background:#fff}
    .section-title{text-align:center;font-size:2.2rem;font-weight:800;color:#0f172a;margin-bottom:40px}
    .features-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:24px}
    .feature-card{background:#fff;padding:24px;border-radius:16px;box-shadow:0 4px 12px rgba(0,0,0,.08);text-align:center;transition:transform .2s ease}
    .feature-card:hover{transform:translateY(-4px)}
    .features-list{list-style:none;margin:16px 0;padding:0 0 0 8px}
    .features-list li{padding:6px 0;color:#334155;line-height:1.5}
    .feature-icon{font-size:2rem;margin-bottom:12px;color:#111827}
    .feature-card h3{font-size:1.1rem;font-weight:700;color:#111827;margin-bottom:8px}
    .feature-card p{color:#64748b}

    /* Social Proof */
    .social-proof{padding:72px 0;background:#f8fafc}
    .testimonials{display:grid;grid-template-columns:repeat(auto-fit,minmax(360px,1fr));gap:24px;margin-top:16px}
    .testimonial{background:#fff;padding:24px;border-radius:16px;box-shadow:0 4px 12px rgba(0,0,0,.08)}
    .testimonial-content{font-style:italic;color:#475569;margin-bottom:14px}
    .testimonial-author{color:#0f172a;font-weight:600}

    /* Pricing */
    .pricing{padding:72px 0;background:#fff}
    .billing-toggle{display:flex;justify-content:center;margin-bottom:28px}
    .toggle-container{background:#fff;border-radius:12px;padding:8px;box-shadow:0 4px 6px -1px rgba(0,0,0,.1);display:flex;gap:8px}
    .toggle-option{padding:10px 20px;border-radius:8px;font-weight:700;cursor:pointer;transition:all .2s ease}
    .toggle-option.active{background:#2563eb;color:#fff}
    .toggle-option:not(.active){color:#64748b}
    .toggle-option:not(.active):hover{background:#f1f5f9}
    .trial-banner{background:linear-gradient(90deg,#10b981,#059669);color:#fff;text-align:center;padding:16px;border-radius:12px;margin:24px auto;max-width:600px}

    .pricing-cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(320px,1fr));gap:24px;max-width:1200px;margin:0 auto}
    .pricing-card{background:#fff;border-radius:16px;padding:28px;box-shadow:0 8px 24px rgba(0,0,0,.08);border:2px solid #e2e8f0;transition:transform .2s ease,border-color .2s ease;cursor:pointer;position:relative;overflow:hidden;padding-top:28px}
    .pricing-card:hover{transform:translateY(-6px);border-color:#2563eb}
    .pricing-card.selected{border-color:#10b981;background:#f0fdf4;box-shadow:0 0 0 3px rgba(16,185,129,.25) inset}

    /* YeÅŸil Plan Kategori KuÅŸaÄŸÄ± */
    .plan-category-banner{background:linear-gradient(135deg,#10b981,#059669);color:#fff;padding:16px 20px;text-align:center;font-weight:700;font-size:0.95rem;margin:-28px -28px 20px -28px;border-radius:14px 14px 0 0;position:relative}
    .plan-category-banner .desc-with-badge{position:relative;display:block;text-align:center;}
    .plan-category-banner .desc-with-badge .desc-text{display:inline-block;max-width:calc(100% - 120px);vertical-align:middle;}
    .popular-badge-top{position:absolute;right:12px;top:50%;transform:translateY(-50%);background:linear-gradient(135deg,#f59e0b,#d97706);color:#fff;padding:4px 10px;border-radius:16px;font-weight:800;font-size:.75rem;box-shadow:0 2px 8px rgba(245,158,11,.4);}

    @keyframes blink{0%,100%{opacity:1;transform:scale(1)}50%{opacity:0.85;transform:scale(1.05)}}

    .value-badge{position:absolute;top:12px;right:12px;background:linear-gradient(135deg,#ef4444,#b91c1c);color:#fff;padding:6px 10px;border-radius:14px;font-size:.75rem;font-weight:800;z-index:3}
    .ribbon{position:absolute;top:12px;left:12px;z-index:3;background:#2563eb;color:#fff;font-weight:800;font-size:.66rem;padding:6px 12px 6px 16px;border-top-right-radius:6px;border-bottom-right-radius:6px;box-shadow:0 4px 10px rgba(0,0,0,.15);white-space:nowrap;}
    .ribbon:before{content:"";position:absolute;left:0;top:100%;border-width:7px 7px 0 0;border-style:solid;border-color:#1d4ed8 transparent transparent transparent;}

    .plan-header{text-align:center;margin-bottom:14px}
    .plan-name{font-size:1.6rem;font-weight:900;color:#fff;margin-bottom:6px}
    .plan-description{color:#f0fdf4;font-size:.95rem;font-weight:500}
    .price-section{text-align:center;margin:14px 0}
    .old-price{display:block;text-align:center;color:#94a3b8;font-weight:700;margin-bottom:4px;min-height:20px}
    .old-price s{opacity:.85}
    .old-price.placeholder{visibility:hidden}
    .price-main{display:flex;align-items:baseline;justify-content:center;gap:6px;margin-bottom:6px}
    .currency{font-size:1.6rem;font-weight:800;color:#0f172a}
    .price-amount{font-size:2.4rem;font-weight:900;color:#2563eb;line-height:1}
    .price-period{font-size:1rem;color:#64748b;font-weight:600}

    .monthly-prices{display:none}
    .quota-section{background:#f8fafc;border:1px solid #e2e8f0;border-radius:12px;padding:16px;margin:14px 0;text-align:center}
    .quota-number{font-size:1.4rem;font-weight:800;color:#0f172a}
    .quota-label{color:#64748b;font-size:.92rem}
    .cta-button-pricing{width:100%;background:linear-gradient(135deg,#2563eb,#1d4ed8);color:#fff;border:none;padding:14px;border-radius:10px;font-size:1rem;font-weight:800;cursor:pointer}
    .login-link{text-align:center;color:#64748b;font-size:.9rem;margin-top:10px}
    .login-link a{color:#2563eb;text-decoration:none;font-weight:700;cursor:pointer}

    /* Registration */
    .registration{padding:72px 0;background:linear-gradient(135deg,#f8fafc 0%,#e2e8f0 100%);color:#0f172a}
    .form-wrapper{max-width:600px;margin:0 auto;background:#fff;padding:28px;border-radius:16px;box-shadow:0 16px 32px rgba(0,0,0,.12);border:1px solid #e2e8f0}
    .form-header{text-align:center;margin-bottom:18px}
    .form-header h2{font-size:1.6rem;margin-bottom:6px;font-weight:900}
    .form-header p{color:#64748b}
    .selected-plan-info{display:none;background:#f0fdf4;border:2px solid #10b981;border-radius:12px;padding:16px;margin:16px 0;text-align:center}
    .registration-form{display:flex;flex-direction:column;gap:14px}
    .form-group{display:flex;flex-direction:column;gap:6px}
    .form-group label{font-weight:700;color:#374151}
    .form-group input{padding:12px 14px;border:2px solid #e5e7eb;border-radius:8px;background:#fff;color:#0f172a;font-size:1rem}
    .form-group input::placeholder{color:#94a3b8}
    .form-group input.error{border-color:#ef4444}
    .error-message{color:#ef4444;font-size:.8rem;margin-top:4px}
    .submit-button{background:linear-gradient(135deg,#2563eb,#1d4ed8);color:#fff;border:none;padding:14px;border-radius:10px;font-size:1.05rem;font-weight:800;cursor:pointer}
    .submit-button:disabled{opacity:.7;cursor:not-allowed}
    .loading-text{display:none}
    .form-note{text-align:center;color:#64748b;font-size:.9rem;margin-top:8px}

    /* Footer */
    .footer{background:#0f172a;color:#fff;padding:28px 0;text-align:center}
    .footer-links{display:flex;gap:18px;flex-wrap:wrap;justify-content:center;margin:10px 0}
    .footer-links a{color:#94a3b8;text-decoration:none}
    .footer-links a:hover{color:#e2e8f0}
    .footer-brand{display:flex;align-items:center;gap:12px;justify-content:center;margin-bottom:16px}
    .footer-brand .logo{font-size:2rem}
    .footer-brand .brand-text{font-size:1.3rem;font-weight:800;color:#fff}
    .footer-info{color:#64748b;font-size:.9rem;margin-top:12px}

    /* Responsive */
    @media (max-width:768px){
      .hero-content{grid-template-columns:1fr;gap:32px;text-align:center}
      .hero-title{font-size:2.3rem}
      .phone-mockup{width:240px;height:480px}
      .testimonials{grid-template-columns:1fr}
      .pricing-cards{grid-template-columns:1fr}
      .nav-actions{flex-direction:column;gap:8px}
    }
/* ===== AFFILIATE SECTION ===== */
.affiliate-section {
  background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
  padding: 80px 0;
  color: white;
  position: relative;
  overflow: hidden;
}

.affiliate-section::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: radial-gradient(circle at 20% 50%, rgba(59, 130, 246, 0.15) 0%, transparent 50%),
              radial-gradient(circle at 80% 80%, rgba(139, 92, 246, 0.15) 0%, transparent 50%);
  pointer-events: none;
}

.affiliate-content {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 60px;
  align-items: center;
  position: relative;
  z-index: 1;
}

.affiliate-text h2 {
  font-size: 2.8rem;
  font-weight: 800;
  margin-bottom: 20px;
  line-height: 1.2;
}

.affiliate-highlight {
  background: linear-gradient(120deg, #3b82f6, #8b5cf6);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.affiliate-text p {
  font-size: 1.15rem;
  color: #cbd5e1;
  margin-bottom: 24px;
  line-height: 1.7;
}

.affiliate-stats {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 20px;
  margin: 30px 0;
}

.stat-box {
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 16px;
  padding: 24px;
  text-align: center;
}

.stat-number {
  font-size: 2.5rem;
  font-weight: 800;
  color: #3b82f6;
  margin-bottom: 8px;
}

.stat-label {
  font-size: 0.9rem;
  color: #94a3b8;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.affiliate-cta {
  background: linear-gradient(135deg, #3b82f6, #8b5cf6);
  color: white;
  padding: 16px 36px;
  border: none;
  border-radius: 12px;
  font-size: 1.1rem;
  font-weight: 700;
  cursor: pointer;
  box-shadow: 0 10px 30px rgba(59, 130, 246, 0.4);
  transition: all 0.3s ease;
  display: inline-block;
  text-decoration: none;
}

.affiliate-cta:hover {
  transform: translateY(-2px);
  box-shadow: 0 15px 40px rgba(59, 130, 246, 0.5);
}

.affiliate-benefits {
  background: rgba(255, 255, 255, 0.05);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 20px;
  padding: 40px;
}

.benefit-item {
  display: flex;
  align-items: start;
  gap: 16px;
  margin-bottom: 24px;
}

.benefit-item:last-child {
  margin-bottom: 0;
}

.benefit-icon {
  font-size: 2rem;
  flex-shrink: 0;
}

.benefit-content h3 {
  font-size: 1.3rem;
  font-weight: 700;
  margin-bottom: 8px;
  color: #f1f5f9;
}

.benefit-content p {
  font-size: 1rem;
  color: #cbd5e1;
  margin: 0;
  line-height: 1.6;
}

.bonus-highlight {
  background: linear-gradient(135deg, #10b981, #059669);
  color: white;
  padding: 4px 12px;
  border-radius: 6px;
  font-weight: 700;
  display: inline-block;
  margin: 0 4px;
}

.commission-badge {
  background: linear-gradient(135deg, #f59e0b, #d97706);
  color: white;
  padding: 8px 16px;
  border-radius: 8px;
  font-weight: 700;
  display: inline-block;
  font-size: 1.1rem;
  margin-top: 10px;
}

/* Responsive for Affiliate */
@media (max-width: 968px) {
  .affiliate-content {
    grid-template-columns: 1fr;
    gap: 40px;
  }
  
  .affiliate-text h2 {
    font-size: 2.2rem;
  }
  
  .affiliate-stats {
    grid-template-columns: 1fr;
  }
} 
 
 </style>
</head>

<body>
  <!-- NAV -->
<nav class="navbar">
  <div class="container">
    <div class="nav-content">
      <!-- Brand -->
      <a href="index.html" class="brand">
        <div class="logo">ğŸ¤–</div>
        <div class="brand-text">SatÄ±nalma CoPilot</div>
      </a>
      
      <!-- Desktop Navigation -->
      <div class="nav-links">
        <a href="login.html" class="nav-btn btn-outline">GiriÅŸ Yap</a>
        <a href="#registration" class="nav-btn btn-primary">Ãœcretsiz Dene</a>
      </div>
      
      <!-- Hamburger -->
      <button class="hamburger" onclick="toggleMenu()">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
  </div>
  
  <!-- Mobile Menu -->
  <div class="mobile-menu" id="mobileMenu">
    <a href="login.html" class="nav-btn btn-outline">GiriÅŸ Yap</a>
    <a href="#registration" class="nav-btn btn-primary">Ãœcretsiz Deneyin</a>
  </div>
</nav>
  <main>
    <!-- HERO -->
    <section class="hero">
      <div class="container">
        <div class="hero-content">
          <div>
            <h1 class="hero-title"><span class="highlight">AI Destekli</span> SatÄ±nalma AsistanÄ±nÄ±z</h1>
            <p class="hero-subtitle">WhatsApp Ã¼zerinden Ã§alÄ±ÅŸan akÄ±llÄ± asistanÄ±nÄ±zla tedarikÃ§i araÅŸtÄ±rmasÄ±, RFQ yÃ¶netimi ve risk analizlerinizi otomatikleÅŸtirin.</p>
            <div class="hero-features">
              <span class="feature-pill">âš¡ 7/24 Aktif</span>
              <span class="feature-pill">ğŸ” AkÄ±llÄ± Analiz</span>
              <span class="feature-pill">ğŸ“± WhatsApp</span>
              <span class="feature-pill">ğŸ›¡ï¸ GÃ¼venli</span>
            </div>
            <button class="cta-button" onclick="scrollToRegistration()">Ãœcretsiz Denemeye BaÅŸla</button>
            <div class="cta-note">ğŸ’³ Otomatik Ã§ekim yok. Ä°stediÄŸiniz zaman kredi yÃ¼kleyin.</div>
          </div>

          <div class="phone-mockup">
            <div class="phone-screen">
              <div class="chat-message user">500 kg demir profil lazÄ±m</div>
              <div class="chat-message bot">ğŸ” TedarikÃ§i araÅŸtÄ±rmasÄ± baÅŸlatÄ±yorum...</div>
              <div class="chat-message bot">âœ… 5 gÃ¼venilir tedarikÃ§i bulundu<br>ğŸ“Š Fiyat analizi hazÄ±r<br>ğŸ“‹ RFQ oluÅŸturulsun mu?</div>
              <div class="chat-message user">Evet, RFQ oluÅŸtur</div>
              <div class="chat-message bot">âœ¨ RFQ-2025-001 oluÅŸturuldu<br>ğŸ“¤ TedarikÃ§ilere gÃ¶nderildi<br>â° 48 saat iÃ§inde yanÄ±t bekleniyor</div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- FEATURES -->
    <section class="features">
      <div class="container">
        <h2 class="section-title">Neden SatÄ±nalma CoPilot?</h2>
        <div class="features-grid">
          <div class="feature-card"><div class="feature-icon">ğŸ¤–</div><h3>AI Destekli Analiz</h3><p>GeliÅŸmiÅŸ yapay zeka ile tedarikÃ§i araÅŸtÄ±rmasÄ±, risk analizi ve pazar intelligence otomatik olarak gerÃ§ekleÅŸtirilir.</p></div>
          <div class="feature-card"><div class="feature-icon">ğŸ“±</div><h3>WhatsApp Entegrasyonu</h3><p>TanÄ±dÄ±k WhatsApp arayÃ¼zÃ¼ Ã¼zerinden tÃ¼m satÄ±nalma sÃ¼reÃ§lerinizi yÃ¶netin.</p></div>
          <div class="feature-card"><div class="feature-icon">âš¡</div><h3>7/24 HÄ±zlÄ± YanÄ±t</h3><p>AsistanÄ±nÄ±z her zaman hazÄ±r ve 2 saniyede yanÄ±t verir.</p></div>
          <div class="feature-card"><div class="feature-icon">ğŸ›¡ï¸</div><h3>GÃ¼venli & Gizli</h3><p>Verileriniz ÅŸifrelenmiÅŸ olarak korunur. KVKK uyumlu altyapÄ±.</p></div>
          <div class="feature-card"><div class="feature-icon">ğŸ“Š</div><h3>DetaylÄ± Raporlama</h3><p>TedarikÃ§i performansÄ±, maliyet analizi ve trend raporlarÄ±.</p></div>
          <div class="feature-card"><div class="feature-icon">ğŸ”—</div><h3>ERP Entegrasyonu</h3><p>Mevcut ERP sisteminize entegre olarak Ã§alÄ±ÅŸÄ±r.</p></div>
        </div>
      </div>
    </section>

    <!-- SOCIAL PROOF -->
    <section class="social-proof" id="socialProofSection">
      <div class="container">
        <h2 class="section-title">MÃ¼ÅŸterilerimiz Ne Diyor?</h2>
        <div class="testimonials" id="testimonialsContainer"></div>
      </div>
    </section>

    <!-- PRICING -->
    <section class="pricing" id="pricing">
      <div class="container">
        <h2 class="section-title">FiyatlandÄ±rma</h2>

        <div class="trial-banner">
          <strong id="trialTitle">14 GÃ¼n Ãœcretsiz Denemeye BaÅŸla</strong>
          <div id="trialSubtitle">1000 mesaj hediye ile WhatsApp asistanÄ±nÄ±zla tanÄ±ÅŸÄ±n</div>
        </div>

        <div class="billing-toggle">
          <div class="toggle-container">
            <div class="toggle-option active" data-billing="monthly">AylÄ±k</div>
            <div class="toggle-option" data-billing="annual">YÄ±llÄ±k</div>
          </div>
        </div>

        <div class="pricing-cards">
          <!-- BASIC -->
          <div class="pricing-card" data-plan="basic">
            <div class="ribbon">Max Yetkileri Aktif</div>
            <div class="value-badge" id="val-badge-basic" style="display:none"></div>
            <div class="plan-category-banner">
              <div class="plan-name" data-plan-name="basic">Basic</div>
              <div class="plan-description" data-plan-desc="basic">KÃ¼Ã§Ã¼k ekipler iÃ§in</div>
            </div>
            <div class="price-section">
              <div class="annual-prices">
                <div class="price-main"><span class="currency">$</span><span class="price-amount" data-price="basic-annual">0.00</span></div>
              </div>
              <div class="monthly-prices">
                <div class="old-price placeholder"><s>&nbsp;</s></div>
                <div class="price-main"><span class="currency">$</span><span class="price-amount" data-price="basic-monthly">0.00</span><span class="price-period"></span></div>
              </div>
            </div>
            <div class="quota-section"><div class="quota-number" data-quota="basic">0</div><div class="quota-label">mesaj (kredi)</div></div>
            <ul class="features-list" data-features="basic"></ul>
            <button class="cta-button-pricing" onclick="handlePlanSelect('basic')">Ãœye Ol</button>
            <div class="login-link">HesabÄ±nÄ±z var mÄ±? <a href="/login.html">GiriÅŸ yapÄ±n</a></div>
          </div>

          <!-- PRO -->
          <div class="pricing-card featured" data-plan="pro">
            <div class="ribbon">Max Yetkileri Aktif</div>
            <div class="value-badge" id="val-badge-pro" style="display:none"></div>
            <div class="plan-category-banner">
              <div class="plan-name" data-plan-name="pro">Pro</div>
              <div class="plan-description desc-with-badge" data-plan-desc="pro">
                <span>BÃ¼yÃ¼yen ekipler</span>
                <span class="popular-badge-top">ğŸ”¥ PopÃ¼ler</span>
              </div>
            </div>
            <div class="price-section">
              <div class="annual-prices">
                <div class="price-main"><span class="currency">$</span><span class="price-amount" data-price="pro-annual">0.00</span></div>
              </div>
              <div class="monthly-prices">
                <div class="old-price" id="old-pro" style="display:none;"><s>$0.00</s></div>
                <div class="price-main"><span class="currency">$</span><span class="price-amount" data-price="pro-monthly">0.00</span><span class="price-period"></span></div>
              </div>
            </div>
            <div class="quota-section"><div class="quota-number" data-quota="pro">0</div><div class="quota-label">mesaj (kredi)</div></div>
            <ul class="features-list" data-features="pro"></ul>
            <button class="cta-button-pricing" onclick="handlePlanSelect('pro')">Ãœye Ol</button>
            <div class="login-link">HesabÄ±nÄ±z var mÄ±? <a href="/login.html">GiriÅŸ yapÄ±n</a></div>
          </div>

          <!-- MAX -->
          <div class="pricing-card" data-plan="max">
            <div class="value-badge" id="val-badge-max" style="display:none"></div>
            <div class="plan-category-banner">
              <div class="plan-name" data-plan-name="max">Max</div>
              <div class="plan-description" data-plan-desc="max">YoÄŸun kullanÄ±m</div>
            </div>
            <div class="price-section">
              <div class="annual-prices">
                <div class="price-main"><span class="currency">$</span><span class="price-amount" data-price="max-annual">0.00</span></div>
              </div>
              <div class="monthly-prices">
                <div class="old-price" id="old-max" style="display:none;"><s>$0.00</s></div>
                <div class="price-main"><span class="currency">$</span><span class="price-amount" data-price="max-monthly">0.00</span><span class="price-period"></span></div>
              </div>
            </div>
            <div class="quota-section"><div class="quota-number" data-quota="max">0</div><div class="quota-label">mesaj (kredi)</div></div>
            <ul class="features-list" data-features="max"></ul>
            <button class="cta-button-pricing" onclick="handlePlanSelect('max')">Ãœye Ol</button>
            <div class="login-link">HesabÄ±nÄ±z var mÄ±? <a href="/login.html">GiriÅŸ yapÄ±n</a></div>
          </div>
        </div>
      </div>
    </section>

    <!-- REGISTRATION -->
    <section class="registration" id="registration">
      <div class="container">
        <div class="form-wrapper">
          <div class="form-header">
            <h2 id="regTitle">14 GÃ¼n Ãœcretsiz Denemeye BaÅŸla</h2>
            <p id="regSubtitle">1000 mesaj hediye ile WhatsApp asistanÄ±nÄ±zla tanÄ±ÅŸÄ±n</p>
          </div>
          <div class="selected-plan-info" id="selectedPlanInfo">
            <h3 id="selectedPlanName">SeÃ§ilen Plan</h3>
            <p id="selectedPlanDetails">Plan detaylarÄ±</p>
          </div>
          <form class="registration-form" onsubmit="handleRegistration(event)">
            <div class="form-group">
              <label for="fullName">Ad Soyad *</label>
              <input type="text" id="fullName" name="fullName" required placeholder="Ã–rn: Ahmet YÄ±lmaz">
            </div>
            <div class="form-group">
              <label for="email">E-posta *</label>
              <input type="email" id="email" name="email" required placeholder="Ã–rn: ahmet@sirket.com">
            </div>
            <div class="form-group">
              <label for="whatsapp">WhatsApp NumarasÄ± *</label>
              <input type="tel" id="whatsapp" name="whatsapp" required placeholder="Ã–rn: +90 555 123 45 67">
            </div>
            <div class="form-group">
              <label for="company">Åirket AdÄ± *</label>
              <input type="text" id="company" name="company" required placeholder="Ã–rn: ABC Teknoloji A.Å.">
            </div>
            <button type="submit" class="submit-button" id="submitBtn">
              <span class="default-text">Ãœcretsiz Denemeye BaÅŸla</span>
              <span class="loading-text">Kaydediliyor...</span>
            </button>
            <p class="form-note">Otomatik Ã§ekim yok. Ä°stediÄŸiniz zaman kredi yÃ¼kleyin.</p>
          </form>
        </div>
      </div>
    </section>
  </main>

<!-- AFFILIATE SECTION -->
<section class="affiliate-section" id="affiliate">
  <div class="container">
    <div class="affiliate-content">

      <!-- Sol: Metin ve Ä°statistikler -->
      <div class="affiliate-text">
        <h2>
          <span class="affiliate-highlight">Tavsiye Et, Kazan!</span><br>
          Affiliate ProgramÄ±mÄ±za KatÄ±l
        </h2>
        <p>
          SatÄ±nalma CoPilot'u tanÄ±dÄ±klarÄ±nÄ±za tavsiye edin, her referansÄ±nÄ±zdan ve onlarÄ±n Ã¶demelerinden kazanÃ§ elde edin.
          <strong>Pasif gelir fÄ±rsatÄ±</strong> sizi bekliyor!
        </p>

        <div class="affiliate-stats">
          <div class="stat-box">
            <div class="stat-number">300</div>
            <div class="stat-label">KayÄ±t Bonusu</div>
          </div>
          <div class="stat-box">
            <div class="stat-number">%10</div>
            <div class="stat-label">Komisyon</div>
          </div>
          <div class="stat-box">
            <div class="stat-number">âˆ</div>
            <div class="stat-label">SÄ±nÄ±rsÄ±z</div>
          </div>
        </div>

        <a href="affiliate.html" class="affiliate-cta">
          ğŸš€ DetaylÄ± Bilgi Al
        </a>
      </div>

      <!-- SaÄŸ: Faydalar -->
      <div class="affiliate-benefits">
        <div class="benefit-item">
          <div class="benefit-icon">ğŸ’°</div>
          <div class="benefit-content">
            <h3>Her KayÄ±tta <span class="bonus-highlight">300 Mesaj</span> Bonus</h3>
            <p>Referans kodunuzla kayÄ±t olan her kullanÄ±cÄ± iÃ§in anÄ±nda 300 mesaj hakkÄ± kazanÄ±rsÄ±nÄ±z.</p>
          </div>
        </div>

        <div class="benefit-item">
          <div class="benefit-icon">ğŸ¯</div>
          <div class="benefit-content">
            <h3>Ã–deme BazlÄ± Komisyon</h3>
            <p>ReferanslarÄ±nÄ±z plan satÄ±n aldÄ±ÄŸÄ±nda <strong>%10 komisyon</strong> otomatik olarak hesabÄ±nÄ±za eklenir.</p>
            <div class="commission-badge">Ã–rnek: 6000 mesaj â†’ 600 bonus!</div>
          </div>
        </div>

        <div class="benefit-item">
          <div class="benefit-icon">ğŸ“ˆ</div>
          <div class="benefit-content">
            <h3>SÄ±nÄ±rsÄ±z KazanÃ§ Potansiyeli</h3>
            <p>Referans limiti yok! Ne kadar Ã§ok tavsiye ederseniz, o kadar Ã§ok kazanÄ±rsÄ±nÄ±z. Dashboard'unuzdan anlÄ±k takip edin.</p>
          </div>
        </div>

        <div class="benefit-item">
          <div class="benefit-icon">âš¡</div>
          <div class="benefit-content">
            <h3>AnÄ±nda Aktivasyon</h3>
            <p>KarmaÅŸÄ±k onay sÃ¼reci yok. Dashboard'unuzdan bir tÄ±k ile programÄ± aktif edin ve Ã¶zel referral kodunuzu alÄ±n.</p>
          </div>
        </div>
      </div>

    </div>
  </div>
</section>

  <!-- FOOTER -->
  <footer class="footer">
    <div class="container">
      <div class="footer-brand">
        <div class="logo">ğŸ¤–</div>
        <div class="brand-text">SatÄ±nalma CoPilot</div>
      </div>
      <div class="footer-links">
        <a href="/about.html">HakkÄ±mÄ±zda</a>
        <a href="/#pricing">FiyatlandÄ±rma</a>
        <a href="affiliate.html">Affiliate Program</a>       
        <a href="/contact.html">Ä°letiÅŸim</a>
        <a href="/privacy.html">Gizlilik</a>
        <a href="/terms.html">KullanÄ±m KoÅŸullarÄ±</a>
        <a href="/faq.html">SSS</a>
      </div>
      <p class="footer-info">&copy; 2025 Back To Stylish LLC â€¢ EIN 61-2244084<br>806 NW 16th Ave Unit #216, Gainesville, FL 32601, USA</p>
    </div>
  </footer>

<script defer>
/* ===== Config & State ===== */
const API_BASE = 'https://www.satinalmacopilot.com/api';
const BILLING_MAP = { annual: 'yearly', monthly: 'monthly' };
// ========== SESSION YÃ–NETÄ°MÄ° (YENÄ° EKLEME) ==========
const SESSION_KEY = 'copilot_session';
const SESSION_EXPIRY = 24 * 60 * 60 * 1000; // 24 saat

function saveSession(phone, customerData = {}) {
  const session = {
    phone: phone,
    timestamp: Date.now(),
    customerData: customerData
  };
  localStorage.setItem(SESSION_KEY, JSON.stringify(session));
  console.log('âœ… Session kaydedildi:', phone);
}

function getSession() {
  try {
    const sessionStr = localStorage.getItem(SESSION_KEY);
    if (!sessionStr) return null;
    
    const session = JSON.parse(sessionStr);
    
    // Expiry check
    if (Date.now() - session.timestamp > SESSION_EXPIRY) {
      localStorage.removeItem(SESSION_KEY);
      return null;
    }
    
    return session;
  } catch (e) {
    console.error('Session parse error:', e);
    return null;
  }
}

function clearSession() {
  localStorage.removeItem(SESSION_KEY);
}
// ========== SESSION YÃ–NETÄ°MÄ° SONU ==========

const planConfig = { monthly: {}, annual: {} };
let selectedPlan = null;
let selectedBilling = 'monthly';

document.addEventListener('DOMContentLoaded', init);

async function init() {
  // 1) PlanlarÄ± indir (sadece bu kÄ±sÄ±m baÅŸarÄ±sÄ±zsa uyarÄ± gÃ¶ster)
  try {
    await Promise.all([loadPlans('annual'), loadPlans('monthly')]);
  } catch (e) {
    console.error('Plans error:', e);
    alert('Planlar yÃ¼klenemedi: ' + (e?.message || e));
    return; // UI adÄ±mlarÄ±na devam etmeyelim
  }

  // 2) UI kurulum (buradaki olasÄ± hatalar uyarÄ± Ã§Ä±karmaz)
  try {
    bindBillingToggle();
    bindCards();
    setInitialToggle();
    updateCardsForCurrentBilling();
    computeValueBadges();
    // AÅŸaÄŸÄ±dakiler zaten kendi iÃ§lerinde try/catch iÃ§eriyor
    loadTestimonials();
    applyPublicSettings();
    updateNavbar();
  } catch (e) {
    console.error('UI init error:', e);
  }
}

/* ===== Navbar JWT kontrolÃ¼ ===== */
function updateNavbar() {
  const token = localStorage.getItem('copilot_token');
  const navActions = document.getElementById('navActions');
  if (token) {
    navActions.innerHTML = `
      <a href="/dashboard.html" class="nav-btn">Dashboard</a>
      <a href="#" class="nav-btn secondary" onclick="logout();return false;">Ã‡Ä±kÄ±ÅŸ Yap</a>
    `;
  } else {
    navActions.innerHTML = `
      <a href="/login.html" class="nav-btn secondary">GiriÅŸ Yap</a>
      <a href="#registration" class="nav-btn">Ãœye Ol</a>
    `;
  }
}

function logout() {
  localStorage.removeItem('copilot_token');
  localStorage.removeItem('copilot_user');
  window.location.href = '/';
}

/* ===== Plan SeÃ§imi â†’ Forma yÃ¶nlendir ===== */
function handlePlanSelect(plan) {
  localStorage.setItem('selected_plan', plan);
  localStorage.setItem('selected_billing', selectedBilling);
  selectPlan(plan);
  scrollToRegistration();
  const nameInput = document.getElementById('fullName');
  if (nameInput) nameInput.focus({ preventScroll: true });
}

function setInitialToggle() {
  document.querySelectorAll('.toggle-option').forEach(o => o.classList.remove('active'));
  document.querySelector('.toggle-option[data-billing="monthly"]').classList.add('active');
  updatePricingDisplay();
}

/* ===== Plans fetch (sertleÅŸtirilmiÅŸ) ===== */
async function loadPlans(key) {
  const url = `${API_BASE}/payment/plans?billing=${BILLING_MAP[key]}&t=${Date.now()}`;
  const res = await fetch(url, { cache: 'no-store', credentials: 'include' });

  if (!res.ok) {
    // AÄŸ dÃ¼zeyi hata
    throw new Error(`HTTP ${res.status} (plans:${key})`);
  }

  // Ä°Ã§erik
  let json;
  try {
    json = await res.json();
  } catch {
    throw new Error(`GeÃ§ersiz JSON (plans:${key})`);
  }

  if (!json?.success || !Array.isArray(json.plans)) {
    throw new Error(`GeÃ§ersiz yanÄ±t (plans:${key})`);
  }

  planConfig[key] = Object.fromEntries(
    json.plans.map(p => [
      p.id,
      {
        name: p.name,
        price: Number(p.price),
        quota: Number(p.quota),
        features: p.features || [],
        description: p.description || '',
        badge_text: p.badge_text || null
      }
    ])
  );
}

function bindBillingToggle() {
  document.querySelectorAll('.toggle-option').forEach(el => {
    el.addEventListener('click', () => {
      document.querySelectorAll('.toggle-option').forEach(o => o.classList.remove('active'));
      el.classList.add('active');
      selectedBilling = el.getAttribute('data-billing');
      updatePricingDisplay();
      updateCardsForCurrentBilling();
      computeValueBadges();
      if (selectedPlan) showSelectedPlanBox();
    });
  });
}

function bindCards() {
  document.querySelectorAll('.pricing-card').forEach(card => {
    card.addEventListener('click', () => {
      const plan = card.getAttribute('data-plan');
      handlePlanSelect(plan);
    });
  });
}

function selectPlan(plan) {
  selectedPlan = plan;
  document.querySelectorAll('.pricing-card').forEach(c => c.classList.remove('selected'));
  const card = document.querySelector(`.pricing-card[data-plan="${plan}"]`);
  if (card) card.classList.add('selected');
  showSelectedPlanBox();
  scrollToRegistration();
}

function updatePricingDisplay() {
  const annual = document.querySelectorAll('.annual-prices');
  const monthly = document.querySelectorAll('.monthly-prices');
  const monthlyOn = selectedBilling === 'monthly';
  monthly.forEach(e => (e.style.display = monthlyOn ? 'block' : 'none'));
  annual.forEach(e => (e.style.display = monthlyOn ? 'none' : 'block'));
}

function onlyTextFeature(f) {
  if (typeof f === 'string') return f;
  if (f && typeof f === 'object' && 'text' in f) return String(f.text || '');
  return '';
}

function applyMonthlyStrikeThrough() {
  const oldPro = document.getElementById('old-pro');
  const oldMax = document.getElementById('old-max');

  if (selectedBilling !== 'monthly') {
    if (oldPro) oldPro.style.display = 'none';
    if (oldMax) oldMax.style.display = 'none';
    return;
  }
  const base = planConfig.monthly?.basic;
  if (!base) return;

  const k = base.price / Math.max(1, base.quota);

  const pro = planConfig.monthly?.pro;
  if (pro && oldPro) {
    const calc = k * pro.quota;
    oldPro.style.display = 'block';
    const s = oldPro.querySelector('s');
    if (s) s.textContent = `$${calc.toFixed(2)}`;
  }

  const max = planConfig.monthly?.max;
  if (max && oldMax) {
    const calc = k * max.quota;
    oldMax.style.display = 'block';
    const s = oldMax.querySelector('s');
    if (s) s.textContent = `$${calc.toFixed(2)}`;
  }
}

function updateCardsForCurrentBilling() {
  console.log('ğŸ”§ updateCardsForCurrentBilling called');
  console.log('ğŸ“Š planConfig:', planConfig);
  console.log('ğŸ“Š selectedBilling:', selectedBilling);
  
  ['basic', 'pro', 'max'].forEach(plan => {
    const dataAnnual = planConfig.annual[plan];
    const dataMonthly = planConfig.monthly[plan];

    console.log(`ğŸ” Processing plan: ${plan}`, {dataAnnual, dataMonthly});

    if (dataAnnual) {
      const elA = document.querySelector(`[data-price="${plan}-annual"]`);
      console.log(`ğŸ“Œ Annual selector [data-price="${plan}-annual"]:`, elA);
      if (elA) {
        elA.textContent = dataAnnual.price.toFixed(2);
        console.log(`âœ… Set ${plan} annual price to: ${dataAnnual.price}`);
      } else {
        console.error(`âŒ Element not found: [data-price="${plan}-annual"]`);
      }
    }
    if (dataMonthly) {
      const elM = document.querySelector(`[data-price="${plan}-monthly"]`);
      console.log(`ğŸ“Œ Monthly selector [data-price="${plan}-monthly"]:`, elM);
      if (elM) {
        elM.textContent = dataMonthly.price.toFixed(2);
        console.log(`âœ… Set ${plan} monthly price to: ${dataMonthly.price}`);
      } else {
        console.error(`âŒ Element not found: [data-price="${plan}-monthly"]`);
      }
    }

    const current = planConfig[selectedBilling][plan];
    if (current) {
      const qEl = document.querySelector(`[data-quota="${plan}"]`);
      if (qEl) qEl.textContent = Number(current.quota).toLocaleString('tr-TR');

      const list = document.querySelector(`[data-features="${plan}"]`);
      if (list) {
        const items = (current.features || []).map(onlyTextFeature).filter(Boolean);
        list.innerHTML = items.map(txt => `<li>${escapeHtml(txt)}</li>`).join('');
      }
    }
  });

  updatePricingDisplay();
  applyMonthlyStrikeThrough();
}

function computeValueBadges() {
  const all = [];
  ['annual', 'monthly'].forEach(b => {
    const cfg = planConfig[b];
    Object.keys(cfg || {}).forEach(k => {
      const cpm = cfg[k].price / Math.max(1, cfg[k].quota);
      all.push(cpm);
    });
  });
  if (!all.length) return;

  const globalMax = Math.max(...all);
  const cur = planConfig[selectedBilling] || {};

  ['basic', 'pro', 'max'].forEach(id => {
    const p = cur[id];
    const badge = document.getElementById(`val-badge-${id}`);
    if (!p || !badge) return;

    const cpm = p.price / Math.max(1, p.quota);
    const pct = Math.max(0, Math.round(((globalMax - cpm) / globalMax) * 100));
    if (pct > 0) {
      badge.style.display = 'block';
      badge.textContent = `%${pct} daha avantajlÄ±`;
    } else {
      badge.style.display = 'none';
    }
  });
}

function showSelectedPlanBox() {
  const info = document.getElementById('selectedPlanInfo');
  const name = document.getElementById('selectedPlanName');
  const details = document.getElementById('selectedPlanDetails');
  const plan = planConfig[selectedBilling]?.[selectedPlan];

  if (plan) {
    info.style.display = 'block';
    name.textContent = `ğŸ¯ SeÃ§ilen Plan: ${selectedPlan?.toUpperCase()}`;
    details.textContent = `$${plan.price}/${selectedBilling === 'monthly' ? 'ay' : 'yÄ±l'} â€¢ ${Number(plan.quota).toLocaleString('tr-TR')} mesaj (kredi) â€¢ 14 gÃ¼n Ã¼cretsiz deneme`;
    document.getElementById('regTitle').textContent = `${selectedPlan?.toUpperCase()} Plan - 14 GÃ¼n Ãœcretsiz Deneme`;
  } else {
    info.style.display = 'none';
    document.getElementById('regTitle').textContent = '14 GÃ¼n Ãœcretsiz Denemeye BaÅŸla';
  }
}

function billingKeyForPayment() {
  return selectedBilling === 'annual' ? 'yearly' : 'monthly';
}

function goToPayment(planFromBtn) {
  const plan = planFromBtn || selectedPlan || 'pro';
  const phoneInput = document.getElementById('whatsapp');
  const raw = (phoneInput?.value || '').trim();
  if (!raw) {
    alert('LÃ¼tfen WhatsApp numaranÄ±zÄ± giriniz (Ã¶rn: +905551234567)');
    phoneInput?.focus();
    return;
  }
  const clean = raw.replace(/[^\d+]/g, '');
  const billing = billingKeyForPayment();
  location.href = `payment.html?phone=${encodeURIComponent(clean)}&plan=${encodeURIComponent(plan)}&billing=${encodeURIComponent(billing)}`;
}

function scrollToRegistration() {
  document.getElementById('registration').scrollIntoView({ behavior: 'smooth' });
}

function escapeHtml(t) {
  const d = document.createElement('div');
  d.textContent = String(t || '');
  return d.innerHTML;
}

/* ===== Testimonials ===== */
async function loadTestimonials() {
  try {
    const r = await fetch(`${API_BASE}/testimonials?t=${Date.now()}`, { cache: 'no-store' });
    
    // DÃœZELTME: Response status kontrolÃ¼ eklendi
    if (!r.ok) {
      console.warn('Testimonials API returned error:', r.status);
      document.getElementById('socialProofSection').style.display = 'none';
      return;
    }
    
    const j = await r.json();
    const cont = document.getElementById('testimonialsContainer');
    const section = document.getElementById('socialProofSection');
    
    if (!j.success || !Array.isArray(j.testimonials) || j.testimonials.length === 0) {
      section.style.display = 'none';
      return;
    }
    
    cont.innerHTML = j.testimonials
      .map(
        t => `
        <div class="testimonial">
          <div class="testimonial-content">"${escapeHtml(t.content)}"</div>
          <div class="testimonial-author">â€” ${escapeHtml(t.author_name)}, ${escapeHtml(t.author_title)}</div>
        </div>`
      )
      .join('');
  } catch (e) {
    // DÃœZELTME: Hata durumunda sayfa Ã§Ã¶kmez, sadece bÃ¶lÃ¼m gizlenir
    console.error('Testimonials error:', e);
    const section = document.getElementById('socialProofSection');
    if (section) {
      section.style.display = 'none';
    }
  }
}

/* ===== Public settings ===== */
async function applyPublicSettings() {
  try {
    const r = await fetch(`${API_BASE}/public/settings`, { cache: 'no-store' });
    const j = await r.json();
    if (!j?.success) return;
    const days = Number(j.trial_days) || 14;
    const quota = Number(j.trial_quota) || 1000;

    const tt = document.getElementById('trialTitle');
    const rt = document.getElementById('regTitle');
    if (tt) tt.textContent = `${days} GÃ¼n Ãœcretsiz Denemeye BaÅŸla`;
    if (rt) rt.textContent = `${days} GÃ¼n Ãœcretsiz Denemeye BaÅŸla`;

    const ts = document.getElementById('trialSubtitle');
    const rs = document.getElementById('regSubtitle');
    const txt = `${quota.toLocaleString('tr-TR')} mesaj hediye ile WhatsApp asistanÄ±nÄ±zla tanÄ±ÅŸÄ±n`;
    if (ts) ts.textContent = txt;
    if (rs) rs.textContent = txt;
  } catch {
    /* sessiz */
  }
}

/* ===== Registration handler ===== */
function validateField(field) {
  const val = field.value.trim();
  let ok = true;
  let msg = '';
  field.classList.remove('error');
  field.parentNode.querySelector('.error-message')?.remove();

  switch (field.type) {
    case 'email':
      if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(val)) {
        ok = false;
        msg = 'GeÃ§erli bir e-posta adresi girin';
      }
      break;
    case 'tel':
      if (!/^[+]?[0-9\s-()]{10,}$/.test(val)) {
        ok = false;
        msg = 'GeÃ§erli bir telefon numarasÄ± girin';
      }
      break;
    default:
      if (val.length < 2) {
        ok = false;
        msg = 'En az 2 karakter giriniz';
      }
  }

  if (!ok) {
    field.classList.add('error');
    const d = document.createElement('div');
    d.className = 'error-message';
    d.textContent = msg;
    field.parentNode.appendChild(d);
  }
  return ok;
}

async function handleRegistration(e) {
  e.preventDefault();
  const form = e.target;
  const req = Array.from(form.querySelectorAll('input[required]'));
  let ok = true;
  req.forEach(i => {
    if (!validateField(i)) ok = false;
  });
  if (!ok) {
    alert('âŒ LÃ¼tfen tÃ¼m alanlarÄ± doÄŸru doldurun.');
    return;
  }

  const btn = document.getElementById('submitBtn');
  const def = btn.querySelector('.default-text');
  const load = btn.querySelector('.loading-text');
  btn.disabled = true;
  def.style.display = 'none';
  load.style.display = 'inline';

  try {
    const fd = new FormData(form);
    let phone = String(fd.get('whatsapp') || '').replace(/[^\d+]/g, '');
    if (!phone.startsWith('+'))
      phone = phone.startsWith('0') ? '+90' + phone.slice(1) : phone.length === 10 ? '+90' + phone : '+' + phone;

    const plan = selectedPlan || 'pro';
    const billing = selectedBilling;
    const current = planConfig[billing][plan];

    const payload = {
      name: fd.get('fullName'),
      email: fd.get('email'),
      contact_phone: phone,
      company_name: fd.get('company'),
      subscription_plan: plan,
      billing_cycle: billing,
      monthly_quota: billing === 'monthly' ? current.quota : Math.floor(current.quota / 12),
      yearly_quota: billing === 'annual' ? current.quota : current.quota * 12,
      plan_price: current.price
    };

    const response = await fetch(`${API_BASE}/register`, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(payload)
    });
    const result = await response.json();

    if (!response.ok || !result.success) {
      throw new Error(result.error || 'KayÄ±t baÅŸarÄ±sÄ±z');
    }

    // Session kaydet (YENÄ° EKLEME)
    saveSession(phone, {
      name: payload.name,
      email: payload.email,
      company_name: payload.company_name,
      subscription_plan: plan
    });

location.href = `/dashboard.html?phone=${encodeURIComponent(phone)}&first=1`;

  } catch (err) {
    alert('âŒ Hata: ' + (err?.message || err));
  } finally {
    const btn2 = document.getElementById('submitBtn');
    const def2 = btn2.querySelector('.default-text');
    const load2 = btn2.querySelector('.loading-text');
    btn2.disabled = false;
    def2.style.display = 'inline';
    load2.style.display = 'none';
  }
}
</script>

<script>
// Hamburger menu toggle
function toggleMenu() {
  const menu = document.getElementById('mobileMenu');
  const hamburger = document.querySelector('.hamburger');
  
  menu.classList.toggle('active');
  hamburger.classList.toggle('active');
}

// Sayfa dÄ±ÅŸÄ±na tÄ±klandÄ±ÄŸÄ±nda menÃ¼yÃ¼ kapat
document.addEventListener('click', function(e) {
  const menu = document.getElementById('mobileMenu');
  const hamburger = document.querySelector('.hamburger');
  
  // Navbar dÄ±ÅŸÄ±na tÄ±klandÄ±ysa kapat
  if (!e.target.closest('.navbar')) {
    menu.classList.remove('active');
    hamburger.classList.remove('active');
  }
});

// MenÃ¼ linklerine tÄ±klandÄ±ÄŸÄ±nda menÃ¼yÃ¼ kapat
document.querySelectorAll('.mobile-menu a').forEach(link => {
  link.addEventListener('click', function() {
    const menu = document.getElementById('mobileMenu');
    const hamburger = document.querySelector('.hamburger');
    
    menu.classList.remove('active');
    hamburger.classList.remove('active');
  });
});

// Scroll olduÄŸunda menÃ¼yÃ¼ kapat
let lastScrollTop = 0;
window.addEventListener('scroll', function() {
  const menu = document.getElementById('mobileMenu');
  const hamburger = document.querySelector('.hamburger');
  
  if (menu.classList.contains('active')) {
    menu.classList.remove('active');
    hamburger.classList.remove('active');
  }
});
</script>

</body>
</html>

